import{x as l,a6 as f,a as e,F as b,a7 as F,j as i,B as w,a8 as M,M as j,b as r,c as h,C as x}from"./index.a058ede5.js";import{L as u}from"./ListComponent.75af82dc.js";import{a as N}from"./alertStates.d8c7fcfe.js";import{A as T}from"./Alert.ad1edbd3.js";const y=t=>{if(!t)return 3e3;const a=t.trim().split(/\s+/).length/150,o=Math.round(a*60*1e3);return Math.max(3e3,o)},g="_eclass_ui_kit_toaster_mounted";function v({message:t,state:n,show:s,m:a,width:o}){const[c,m]=l.exports.useState(!1);l.exports.useEffect(()=>{typeof window!="undefined"&&!window[g]&&(window[g]=!0,m(!0))},[]);const p=l.exports.useCallback(()=>{f(E=>e(T,{isFlash:!0,state:n,canDismiss:!0,onClick:()=>f.dismiss(E.id),width:o,maxContent:!o,m:a,children:t}),{duration:n==="success"?y(t):1/0,id:N[n].id})},[t,n,o,a]);return l.exports.useEffect(()=>{s&&p()},[s,p]),e(b,{children:c&&e(F,{position:"top-center",toastOptions:{className:"toastContainer",style:{background:"transparent",boxShadow:"none",maxWidth:o!=null?o:"max-content"}}})})}const C=({state:t,message:n,width:s})=>{const[a,o]=l.exports.useState(!1);return l.exports.useEffect(()=>{if(a){const m=t==="success"?y(n):1e3,p=setTimeout(()=>{o(!1)},m);return()=>clearTimeout(p)}},[n,a,t]),{show:a,active:()=>{a||o(!0)},config:{state:t,message:n,width:s}}};function d({state:t,message:n,width:s}){const{show:a,active:o,config:c}=C({state:t,message:n,width:s});return i(w,{children:[e(M,{onClick:o,children:t}),e(v,{show:a,state:c.state,message:c.message,width:c.width})]})}const B=()=>i(b,{children:[e(j,{children:"Flash Notifications"}),i(r,{children:["Las notificaciones flash se utilizan para entregar feedback desde el sistema, inmediatamente despu\xE9s de un evento accionado por el usuario"," ",e("i",{children:"(Ej: luego de agendar una clase en vivo, luego ingresar una pregunta sobre el curso, etc)"})," ","o accionado por el mismo sistema"," ",e("i",{children:"(Ej: Problemas de conexi\xF3n, fallos al guardar o cargar datos, etc.)"})]}),i(r,{children:[e("b",{children:"Tiempo de permanencia y auto-cerrado:"}),e("br",{}),"La duraci\xF3n de la notificaci\xF3n depende de su estado y la longitud del mensaje. El sistema calcula el tiempo necesario para leer el contenido basado en una velocidad promedio de"," ",e("b",{children:"150 palabras por minuto"}),":",i("li",{children:[e("b",{children:"Estado Success:"})," Se cierra autom\xE1ticamente tras el tiempo calculado (con un m\xEDnimo de 3 segundos garantizados)."]}),i("li",{children:[e("b",{children:"Otros Estados (Error, Warning, Info):"}),' Permanecen visibles de forma persistente. Esto asegura que el usuario tenga tiempo suficiente para leer errores o advertencias cr\xEDticas y requiere un cierre manual mediante la "X".']})]}),e(h,{children:"Ancho y Centrado"}),i(r,{children:["Por defecto, la notificaci\xF3n toma un ancho de ",e("b",{children:"max-content"})," (se ajusta al texto) y se mantiene perfectamente centrada en la parte superior de la pantalla. Si deseas un control m\xE1s espec\xEDfico, puedes pasar un ancho fijo mediante la propiedad ",e("b",{children:"width"}),"."]}),i(u,{children:[e(d,{state:"error",message:"<strong>El grupo ya est\xE1 completo</strong><br/>Lo sentimos, no es posible unirte porque el grupo acaba de alcanzar su l\xEDmite de integrantes."}),e(d,{state:"info",message:"Notificaci\xF3n con ancho fijo de 600px",width:"600px"})]}),e(x,{text:`// Notificaci\xF3n con ancho autom\xE1tico (max-content)
<FlashNotification
  state="error"
  show={show}
  message="Mensaje con ancho autom\xE1tico..."
/>

// Notificaci\xF3n con ancho fijo
<FlashNotification
  state="info"
  show={show}
  width="600px"
  message="Mensaje con ancho fijo de 600px"
/>`}),e(h,{children:"Soporte HTML"}),i(r,{children:["La propiedad ",e("b",{children:"message"})," admite etiquetas HTML b\xE1sicas para dar formato al contenido, como ",e("b",{children:"<b>"}),", ",e("b",{children:"<strong>"}),", ",e("b",{children:"<i>"})," y ",e("b",{children:"<br />"}),". El contenido es sanitizado autom\xE1ticamente antes de ser renderizado."]}),e(u,{children:e(d,{state:"info",message:"Puedes usar <b>negritas</b>, <i>it\xE1licas</i> y<br/>saltos de l\xEDnea."})}),e(x,{text:`<FlashNotification
  state="info"
  show={show}
  message="Uso de <b>HTML</b> para mejorar el <i>feedback</i>."
/>`}),e(h,{children:"Implementaci\xF3n Singleton"}),i(r,{children:["No es necesario a\xF1adir un contenedor de ",e("i",{children:"Toaster"})," manualmente en tu aplicaci\xF3n. El componente ",e("b",{children:"FlashNotification"})," gestiona autom\xE1ticamente una \xFAnica instancia global (Singleton), asegurando que las notificaciones no se dupliquen ni se pisen, incluso si el componente se usa en m\xFAltiples lugares de tu proyecto."]}),e(x,{text:`import { FlashNotification, useFlashNotification } from '@eclass/ui-kit'

const MyComponent = () => {
  const { show, active, config } = useFlashNotification({
    state: 'success',
    message: '\xA1Cambios guardados con \xE9xito!',
  })

  return (
    <>
      <Button onClick={active}>Guardar</Button>
      <FlashNotification {...config} show={show} />
    </>
  )
}`}),e(h,{children:"Estados"}),e(r,{children:"Existen 4 posibles estados que definen el \xEDcono y color de la notificaci\xF3n."}),i(u,{children:[e(d,{state:"info",message:"<b>\xA1Grupo creado!</b><br />Tu grupo ha sido creado. Ahora puedes invitar a tus compa\xF1eros."}),e(d,{state:"success",message:"Mensaje de \xE9xito (Auto-cerrado)"}),e(d,{state:"error",message:"Mensaje de error (Persistente)"}),e(d,{state:"warning",message:"Mensaje de advertencia (Persistente)"})]}),e(h,{children:"Propiedades"}),i(r,{children:["El componente ",e("b",{children:"FlashNotification"})," acepta las siguientes propiedades:"]}),e(u,{children:e("div",{style:{width:"100%",overflowX:"auto"},children:i("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[e("thead",{children:i("tr",{style:{borderBottom:"1px solid #E2E8F0"},children:[e("th",{style:{padding:"8px"},children:"Propiedad"}),e("th",{style:{padding:"8px"},children:"Tipo"}),e("th",{style:{padding:"8px"},children:"Descripci\xF3n"})]})}),i("tbody",{children:[i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"state"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"'success' | 'error' | 'info' | 'warning'"})}),e("td",{style:{padding:"8px"},children:"Define el color, icono y comportamiento."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"message"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"El texto o HTML que se mostrar\xE1."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"show"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"boolean"})}),e("td",{style:{padding:"8px"},children:"Controla la visibilidad."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"width"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"Ancho fijo (ej: '400px')."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"m"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"Margen CSS adicional."})]})]})]})})})]});export{B as ViewFlashNotification,B as default};
//# sourceMappingURL=FlashNotification.1c41c983.js.map
