{"version":3,"file":"FlashNotification-690308df.js","sources":["../../src/organisms/Alerts/utils/handleTime.ts","../../src/organisms/Alerts/FlashNotification.tsx","../../src/organisms/Alerts/utils/useFlashNotification.ts","../../src/documentation/components/FlashNotificationDemo.tsx","../../src/documentation/pages/Organisms/FlashNotification.tsx"],"sourcesContent":["/* Método que cuenta la cantidad de palabras del mensaje de alerta o notificación\ny según eso calcula el tiempo que durará en pantalla */\n\nexport const handleTime = (message: string): number => {\n  // Se recibe el mensaje y se retorna la cantidad de palabras\n  function countWords(input: string): number {\n    const wordCount = input.match(/(\\w+)/g)?.length ?? 0\n    return wordCount\n  }\n  // Por defecto la duración es de 3seg, si el mensaje tiene más de 5 palabras, se cambia a 6\n  let time = 3000\n  if (message && countWords(message) > 5) {\n    time = 6000\n  }\n  return time\n}\n","import { Box } from '@chakra-ui/react'\nimport { useCallback, useEffect } from 'react'\nimport { toast, Toaster } from 'react-hot-toast'\n\nimport { type IFlashNotificationProps } from './types.d'\nimport { alertStates } from './utils/alertStates'\nimport { handleTime } from './utils/handleTime'\nimport { Alert } from './Alert'\n\n/**\n * Componente de notificación flash que se muestra centrada en la parte superior de la pantalla.\n * Para implementarlo, se usa en conjunto con el hook useFlashNotification.\n * @example Llamado useFlashNotification y asignación de props\n * const { show, active, config } = useFlashNotification({\n *  state: 'info',\n *   message: 'Respuesta guardada',\n *})\n * @example Definición de trigger que activa la notificación\n * <button onClick={() => { active()}}> Activar notificación </button>\n * @example Componente FlashNotification recibiendo argumentos\n * <FlashNotification {...config} show={show} />\n */\n\nexport function FlashNotification({\n  message,\n  state,\n  show,\n  m,\n}: IFlashNotificationProps): JSX.Element {\n  const showToast = useCallback(() => {\n    toast(\n      (t) => (\n        <Alert\n          isFlash\n          state={state}\n          canDismiss\n          onClick={() => {\n            toast.dismiss(t.id)\n          }}\n        >\n          {message}\n        </Alert>\n      ),\n      {\n        duration: handleTime(message),\n        id: alertStates[state].id,\n      },\n    )\n  }, [message, state])\n\n  useEffect(() => {\n    if (show) {\n      showToast()\n    }\n  }, [show, showToast])\n\n  return (\n    <Box>\n      <Toaster\n        toastOptions={{\n          className: 'toastContainer',\n          style: {\n            background: 'transparent',\n            boxShadow: 'none',\n          },\n        }}\n      />\n    </Box>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { type IFlashNotificationProps } from '../types'\nimport { handleTime } from './handleTime'\n\n/**\n * Hook que actúa como trigger del componente FlashNotification,\n * usando los siguientes parámetros:\n * show: boolean que indica si la notificación se está mostrando o no,\n * active: función que modifica el estado de show,\n * config: contiene los valores de 'state' y message'\n * @example Llamado useFlashNotification y asignación de props\n * const { show, active, config } = useFlashNotification({\n *  state: 'info',\n *   message: 'Respuesta guardada',\n *})\n * @example Definición de trigger que activa la notificación\n * <button onClick={() => { active()}}> Activar notificación </button>\n * @example Componente FlashNotification recibiendo argumentos\n * <FlashNotification {...config} show={show} />\n */\n\nexport const useFlashNotification = ({ state, message }: IFlashNotificationProps): any => {\n  // Estado que maneja si la notificación debe mostrarse.\n  const [show, setShow] = useState(false)\n\n  // Effect que controla la visibilidad de la notificación basado en los cambios de estado\n  useEffect(() => {\n    // Si la notificación se está mostrando, se determina el tiempo tras el cual se ocultará.\n    if (show) {\n      const timeOut = setTimeout(() => {\n        setShow(false)\n      }, handleTime(message))\n      return () => {\n        clearTimeout(timeOut)\n      }\n    }\n  }, [message, show])\n\n  // Función que activa la notificación\n  const active = (): any => {\n    if (!show) {\n      setShow(true)\n    }\n  }\n\n  // Se retorna el estado de show, la función active y el objeto de config que contiene el estado y mensaje.\n  return {\n    show,\n    active,\n    config: {\n      state,\n      message,\n    },\n  }\n}\n","import { FlashNotification, useFlashNotification } from '@/organisms'\nimport { type IFlashNotificationProps } from '@/organisms/Alerts/types'\nimport { Box, Button } from '@chakra-ui/react'\n\nexport default function FlashNotificationDemo({\n  state,\n  message,\n}: IFlashNotificationProps): JSX.Element {\n  const { show, active, config } = useFlashNotification({\n    state,\n    message,\n  })\n  return (\n    <Box>\n      <Button\n        onClick={() => {\n          active()\n        }}\n      >\n        {state}\n      </Button>\n      <FlashNotification {...config} show={show} />\n    </Box>\n  )\n}\n","import { ListComponent, MyHeading, MyText, MyTittle, Code } from '@/documentation/components'\nimport FlashNotificationDemo from '@/documentation/components/FlashNotificationDemo'\n\nexport const ViewFlashNotification = (): JSX.Element => {\n  return (\n    <>\n      <MyHeading>Flash Notifications</MyHeading>\n      <MyText>\n        Las notificaciones flash se utilizan para entregar feedback desde el sistema, inmediatamente\n        después de un evento accionado por el usuario{' '}\n        <i>\n          (Ej: luego de agendar una clase en vivo, luego ingresar una pregunta sobre el curso, etc)\n        </i>{' '}\n        o accionado por el mismo sistema{' '}\n        <i>(Ej: Problemas de conexión, fallos al guardar o cargar datos, etc.)</i>\n      </MyText>\n      <MyText>\n        Tiempo de permanencia en pantalla: Se recomienda <b>no exceder las 25 palabras</b> para\n        alertas flash para una correcta lectura de la información.\n      </MyText>\n      <MyText>\n        Según la cantidad de la palabras la duración será la siguiente:{' '}\n        <li>\n          <b>De 1 a 5 palabras:</b> 3 segundos.\n        </li>{' '}\n        <li>\n          <b>De 11 a 25 palabras:</b> 6 segundos.\n        </li>{' '}\n        <br />\n        El componente de FlashNotification se implementa en conjunto con el hook\n        useFlashNotification\n      </MyText>\n      <Code text=\"import { FlashNotification, useFlashNotification } from '@eclass/ui-kit'\" />\n\n      <MyTittle>Estados</MyTittle>\n      <MyText>Existen 4 posibles estados que definen el ícono y color de la notificación.</MyText>\n      <ListComponent>\n        <FlashNotificationDemo state=\"info\" message=\"Mensaje informativo\" />\n        <FlashNotificationDemo state=\"success\" message=\"Mensaje de éxito\" />\n        <FlashNotificationDemo state=\"error\" message=\"Mensaje de error\" />\n        <FlashNotificationDemo state=\"warning\" message=\"Mensaje de advertencia\" />\n      </ListComponent>\n      <Code\n        text=\"// Se define la constante que llama a useNotificationFlash y contiene el estado y mensaje\nconst { show, active, config } = useFlashNotification({\nstate: 'info',\nmessage: 'Mensaje informativo',\n})\n// Se pasa la función active al elemento que activará la notificación\n<Button onClick={ () => {active()} } > {state} </Button>\n// Se le dan los argumentos de config al componente de FlashNotification\n<FlashNotification {...config} show={show} />\"\n      />\n    </>\n  )\n}\n\nexport default ViewFlashNotification\n"],"names":["handleTime","message","countWords","input","_a","time","FlashNotification","state","show","m","showToast","useCallback","toast","t","jsx","Alert","alertStates","useEffect","Box","Toaster","useFlashNotification","setShow","useState","timeOut","FlashNotificationDemo","active","config","Button","ViewFlashNotification","jsxs","Fragment","MyHeading","MyText","Code","MyTittle","ListComponent"],"mappings":"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"}