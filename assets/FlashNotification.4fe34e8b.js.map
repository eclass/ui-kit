{"version":3,"file":"FlashNotification.4fe34e8b.js","sources":["../../src/organisms/Alerts/utils/handleTime.ts","../../src/organisms/Alerts/FlashNotification.tsx","../../src/organisms/Alerts/utils/useFlashNotification.ts","../../src/documentation/components/FlashNotificationDemo.tsx","../../src/documentation/pages/Organisms/FlashNotification.tsx"],"sourcesContent":["export const handleTime = (message: string): number => {\n  if (!message) return 3000\n\n  const words = message.trim().split(/\\s+/).length\n  const wordsPerMinute = 150\n  const baseMinutes = words / wordsPerMinute\n\n  // Convertimos a milisegundos: minutos * 60 segundos * 1000 ms\n  const totalMs = Math.round(baseMinutes * 60 * 1000)\n\n  // Aseguramos un mínimo de 3 segundos para mensajes muy cortos\n  return Math.max(3000, totalMs)\n}\n","import { Portal } from '@chakra-ui/react'\nimport { useCallback, useEffect } from 'react'\nimport { toast, Toaster } from 'react-hot-toast'\n\nimport { IFlashNotificationProps } from './types.d'\nimport { alertStates } from './utils/alertStates'\nimport { handleTime } from './utils/handleTime'\nimport { Alert } from './Alert'\n\n/**\n * Componente de notificación flash que se muestra centrada en la parte superior de la pantalla.\n * Para implementarlo, se usa en conjunto con el hook useFlashNotification.\n * @example Llamado useFlashNotification y asignación de props\n * const { show, active, config } = useFlashNotification({\n *  state: 'info',\n *   message: 'Respuesta guardada',\n *})\n * @example Definición de trigger que activa la notificación\n * <button onClick={() => { active()}}> Activar notificación </button>\n * @example Componente FlashNotification recibiendo argumentos\n * <FlashNotification {...config} show={show} />\n */\n\nexport function FlashNotification({\n  message,\n  state,\n  show,\n  m,\n  width,\n}: IFlashNotificationProps): JSX.Element {\n  const showToast = useCallback(() => {\n    toast(\n      (t) => (\n        <Alert\n          isFlash\n          state={state}\n          canDismiss\n          onClick={() => toast.dismiss(t.id)}\n          width={width}\n          m={m}\n        >\n          {message}\n        </Alert>\n      ),\n      {\n        duration: state === 'success' ? handleTime(message) : Infinity,\n        id: alertStates[state].id,\n      }\n    )\n  }, [message, state, width, m])\n\n  useEffect(() => {\n    if (show) {\n      showToast()\n    }\n  }, [show, showToast])\n\n  return (\n    <Portal>\n      <Toaster\n        position=\"top-center\"\n        toastOptions={{\n          className: 'toastContainer',\n          style: {\n            background: 'transparent',\n            boxShadow: 'none',\n          },\n        }}\n      />\n    </Portal>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { IFlashNotificationProps } from '../types'\nimport { handleTime } from './handleTime'\n\n/**\n * Hook que actúa como trigger del componente FlashNotification,\n * usando los siguientes parámetros:\n * show: boolean que indica si la notificación se está mostrando o no,\n * active: función que modifica el estado de show,\n * config: contiene los valores de 'state' y message'\n * @example Llamado useFlashNotification y asignación de props\n * const { show, active, config } = useFlashNotification({\n *  state: 'info',\n *   message: 'Respuesta guardada',\n *})\n * @example Definición de trigger que activa la notificación\n * <button onClick={() => { active()}}> Activar notificación </button>\n * @example Componente FlashNotification recibiendo argumentos\n * <FlashNotification {...config} show={show} />\n */\n\nexport const useFlashNotification = ({\n  state,\n  message,\n  maxContent,\n  width,\n}: IFlashNotificationProps): any => {\n  // Estado que maneja si la notificación debe mostrarse.\n  const [show, setShow] = useState(false)\n\n  // Effect que controla la visibilidad de la notificación basado en los cambios de estado\n  useEffect(() => {\n    // Si la notificación se está mostrando, se determina el tiempo tras el cual se ocultará.\n    if (show) {\n      const duration = state === 'success' ? handleTime(message) : 1000\n      const timeOut = setTimeout(() => {\n        setShow(false)\n      }, duration)\n      return () => clearTimeout(timeOut)\n    }\n  }, [message, show, state])\n\n  // Función que activa la notificación\n  const active = (): any => {\n    if (!show) {\n      setShow(true)\n    }\n  }\n\n  // Se retorna el estado de show, la función active y el objeto de config que contiene el estado y mensaje.\n  return {\n    show,\n    active,\n    config: {\n      state,\n      message,\n      maxContent,\n      width,\n    },\n  }\n}\n","import { FlashNotification, useFlashNotification } from '@/organisms'\nimport { IFlashNotificationProps } from '@/organisms/Alerts/types'\nimport { Box, Button } from '@chakra-ui/react'\n\nexport default function FlashNotificationDemo({\n  state,\n  message,\n  maxContent,\n  width,\n}: IFlashNotificationProps): JSX.Element {\n  const { show, active, config } = useFlashNotification({\n    state: state,\n    message: message,\n    maxContent: maxContent,\n    width,\n  }) as { show: boolean; active: () => void; config: IFlashNotificationProps }\n  return (\n    <Box>\n      <Button onClick={active}>{state}</Button>\n      <FlashNotification\n        show={show}\n        state={config.state}\n        message={config.message}\n        maxContent={config.maxContent}\n        width={config.width}\n      />\n    </Box>\n  )\n}\n","import { ListComponent, MyHeading, MyText, MyTitle, Code } from '@/documentation/components'\nimport FlashNotificationDemo from '@/documentation/components/FlashNotificationDemo'\n\nexport const ViewFlashNotification = (): JSX.Element => {\n  return (\n    <>\n      <MyHeading>Flash Notifications</MyHeading>\n      <MyText>\n        Las notificaciones flash se utilizan para entregar feedback desde el sistema, inmediatamente\n        después de un evento accionado por el usuario{' '}\n        <i>\n          (Ej: luego de agendar una clase en vivo, luego ingresar una pregunta sobre el curso, etc)\n        </i>{' '}\n        o accionado por el mismo sistema{' '}\n        <i>(Ej: Problemas de conexión, fallos al guardar o cargar datos, etc.)</i>\n      </MyText>\n      <MyText>\n        <b>Tiempo de permanencia y auto-cerrado:</b>\n        <br />\n        La duración de la notificación depende de su estado y la longitud del mensaje (basado en una\n        velocidad de lectura de 150 palabras por minuto):\n        <li>\n          <b>Estado Success:</b> Se cierra automáticamente tras el tiempo calculado para su lectura\n          (mínimo 3 segundos).\n        </li>\n        <li>\n          <b>Otros Estados (Error, Warning, Info):</b> Permanecen visibles de forma persistente y\n          requieren que el usuario las cierre manualmente mediante la \"X\" integrada.\n        </li>\n      </MyText>\n\n      <MyTitle>Ancho del Contenido y Centrado</MyTitle>\n      <MyText>\n        Mediante la propiedad <b>maxContent</b>, la notificación tomará exactamente el ancho de su\n        contenido y se mantendrá perfectamente centrada en la pantalla. Alternativamente, puedes\n        pasar un ancho fijo mediante <b>width</b>.\n      </MyText>\n      <ListComponent>\n        <FlashNotificationDemo\n          maxContent\n          state=\"success\"\n          message=\"Notificación ajustada al ancho del contenido\"\n        />\n        <FlashNotificationDemo\n          state=\"info\"\n          message=\"Notificación con ancho fijo de 600px\"\n          width=\"600px\"\n        />\n      </ListComponent>\n\n      <MyTitle>Implementación</MyTitle>\n      <MyText>\n        El componente de FlashNotification se implementa en conjunto con el hook\n        useFlashNotification:\n      </MyText>\n      <Code text=\"import { FlashNotification, useFlashNotification } from '@eclass/ui-kit'\" />\n\n      <MyTitle>Estados</MyTitle>\n      <MyText>Existen 4 posibles estados que definen el ícono y color de la notificación.</MyText>\n      <ListComponent>\n        <FlashNotificationDemo\n          maxContent\n          state=\"info\"\n          message=\"<b>¡Grupo creado!</b><br />Tu grupo ha sido creado. Ahora puedes invitar a tus compañeros.\"\n        />\n        <FlashNotificationDemo state=\"success\" message=\"Mensaje de éxito (Auto-cerrado)\" />\n        <FlashNotificationDemo state=\"error\" message=\"Mensaje de error (Persistente)\" />\n        <FlashNotificationDemo state=\"warning\" message=\"Mensaje de advertencia (Persistente)\" />\n      </ListComponent>\n      <Code\n        text=\"// Se define la constante que llama a useNotificationFlash y contiene el estado y mensaje\nconst { show, active, config } = useFlashNotification({\n  state: 'info',\n  message: 'Mensaje informativo',\n  maxContent: true, // Se ajusta al ancho del texto\n  width: '400px',   // Opcional: anula maxContent si se provee\n})\n// Se pasa la función active al elemento que activará la notificación\n<Button onClick={ () => {active()} } > {state} </Button>\n// Se le dan los argumentos de config al componente de FlashNotification\n<FlashNotification {...config} show={show} />\"\n      />\n    </>\n  )\n}\n\nexport default ViewFlashNotification\n"],"names":["handleTime","message","baseMinutes","totalMs","FlashNotification","state","show","m","width","showToast","useCallback","t","Alert","isFlash","canDismiss","onClick","toast","dismiss","id","children","duration","Infinity","alertStates","useEffect","Portal","Toaster","position","toastOptions","className","style","background","boxShadow","useFlashNotification","maxContent","setShow","useState","timeOut","FlashNotificationDemo","active","config","Box","_jsx","Button","ViewFlashNotification","_Fragment","MyHeading","_jsxs","MyText","MyTitle","ListComponent","Code","text"],"mappings":"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"}