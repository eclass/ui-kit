import{x as d,W as E,a6 as x,a as e,F as b,a7 as w,j as i,B as M,a8 as v,M as T,b as r,c as h,C as g}from"./index.41f09d57.js";import{L as u}from"./ListComponent.a309178f.js";import{a as S}from"./alertStates.ddd3a050.js";import{A as N}from"./Alert.0751d1ed.js";const y=t=>{if(!t)return 3e3;const a=t.trim().split(/\s+/).length/150,s=Math.round(a*60*1e3);return Math.max(3e3,s)},f="_eclass_ui_kit_toaster_mounted";function A({message:t,state:n,show:o,m:a}){const[s,p]=d.exports.useState(!1),[l]=E("(max-width: 440px)");d.exports.useEffect(()=>{typeof window!="undefined"&&!window[f]&&(window[f]=!0,p(!0))},[]);const m=d.exports.useCallback(()=>{x(F=>e(N,{isFlash:!0,state:n,canDismiss:!0,onClick:()=>x.dismiss(F.id),m:a,sx:{w:"initial",maxWidth:"initial",...l&&{margin:"-4px -10px",borderRadius:0,w:"100vw!important"}},children:t}),{duration:n==="success"?y(t):1/0,id:S[n].id})},[t,n,a]);return d.exports.useEffect(()=>{o&&m()},[o,m]),e(b,{children:s&&e(w,{position:"top-center",toastOptions:{className:"toastContainer",style:{background:"transparent",boxShadow:"none",maxWidth:"100vw",padding:0,margin:0}},containerStyle:{left:0,right:0,...l&&{top:0},padding:0,margin:0}})})}const C=({state:t,message:n})=>{const[o,a]=d.exports.useState(!1);return d.exports.useEffect(()=>{if(o){const p=t==="success"?y(n):1e3,l=setTimeout(()=>{a(!1)},p);return()=>clearTimeout(l)}},[n,o,t]),{show:o,active:()=>{o||a(!0)},config:{state:t,message:n}}};function c({state:t,message:n}){const{show:o,active:a,config:s}=C({state:t,message:n});return i(M,{children:[e(v,{onClick:a,children:t}),e(A,{show:o,state:s.state,message:s.message})]})}const k=()=>i(b,{children:[e(T,{children:"Flash Notifications"}),i(r,{children:["Las notificaciones flash se utilizan para entregar feedback desde el sistema, inmediatamente despu\xE9s de un evento accionado por el usuario"," ",e("i",{children:"(Ej: luego de agendar una clase en vivo, luego ingresar una pregunta sobre el curso, etc)"})," ","o accionado por el mismo sistema"," ",e("i",{children:"(Ej: Problemas de conexi\xF3n, fallos al guardar o cargar datos, etc.)"})]}),i(r,{children:[e("b",{children:"Tiempo de permanencia y auto-cerrado:"}),e("br",{}),"La duraci\xF3n de la notificaci\xF3n depende de su estado y la longitud del mensaje. El sistema calcula el tiempo necesario para leer el contenido basado en una velocidad promedio de"," ",e("b",{children:"150 palabras por minuto"}),":",i("li",{children:[e("b",{children:"Estado Success:"})," Se cierra autom\xE1ticamente tras el tiempo calculado (con un m\xEDnimo de 3 segundos garantizados)."]}),i("li",{children:[e("b",{children:"Otros Estados (Error, Warning, Info):"}),' Permanecen visibles de forma persistente. Esto asegura que el usuario tenga tiempo suficiente para leer errores o advertencias cr\xEDticas y requiere un cierre manual mediante la "X".']})]}),e(h,{children:"Soporte HTML"}),i(r,{children:["La propiedad ",e("b",{children:"message"})," admite etiquetas HTML b\xE1sicas para dar formato al contenido, como ",e("b",{children:"<b>"}),", ",e("b",{children:"<strong>"}),", ",e("b",{children:"<i>"})," y ",e("b",{children:"<br />"}),". El contenido es sanitizado autom\xE1ticamente antes de ser renderizado."]}),e(u,{children:e(c,{state:"info",message:"Puedes usar <b>negritas</b>, <i>it\xE1licas</i> y<br/>saltos de l\xEDnea."})}),e(g,{text:`<FlashNotification
  state="info"
  show={show}
  message="Uso de <b>HTML</b> para mejorar el <i>feedback</i>."
/>`}),e(h,{children:"Implementaci\xF3n Singleton"}),i(r,{children:["No es necesario a\xF1adir un contenedor de ",e("i",{children:"Toaster"})," manualmente en tu aplicaci\xF3n. El componente ",e("b",{children:"FlashNotification"})," gestiona autom\xE1ticamente una \xFAnica instancia global (Singleton), asegurando que las notificaciones no se dupliquen ni se pisen, incluso si el componente se usa en m\xFAltiples lugares de tu proyecto."]}),e(g,{text:`import { FlashNotification, useFlashNotification } from '@eclass/ui-kit'

const MyComponent = () => {
  const { show, active, config } = useFlashNotification({
    state: 'success',
    message: '\xA1Cambios guardados con \xE9xito!',
  })

  return (
    <>
      <Button onClick={active}>Guardar</Button>
      <FlashNotification {...config} show={show} />
    </>
  )
}`}),e(h,{children:"Estados"}),e(r,{children:"Existen 4 posibles estados que definen el \xEDcono y color de la notificaci\xF3n."}),i(u,{children:[e(c,{state:"info",message:"<b>\xA1Grupo creado!</b><br />Tu grupo ha sido creado. Ahora puedes invitar a tus compa\xF1eros."}),e(c,{state:"success",message:"Mensaje de \xE9xito (Auto-cerrado)"}),e(c,{state:"error",message:"Mensaje de error (Persistente)"}),e(c,{state:"warning",message:"Mensaje de advertencia (Persistente)"})]}),e(h,{children:"Propiedades"}),i(r,{children:["El componente ",e("b",{children:"FlashNotification"})," acepta las siguientes propiedades:"]}),e(u,{children:e("div",{style:{width:"100%",overflowX:"auto"},children:i("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[e("thead",{children:i("tr",{style:{borderBottom:"1px solid #E2E8F0"},children:[e("th",{style:{padding:"8px"},children:"Propiedad"}),e("th",{style:{padding:"8px"},children:"Tipo"}),e("th",{style:{padding:"8px"},children:"Descripci\xF3n"})]})}),i("tbody",{children:[i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"state"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"'success' | 'error' | 'info' | 'warning'"})}),e("td",{style:{padding:"8px"},children:"Define el color, icono y comportamiento."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"message"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"El texto o HTML que se mostrar\xE1."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"show"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"boolean"})}),e("td",{style:{padding:"8px"},children:"Controla la visibilidad."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"width"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"Ancho fijo (ej: '400px')."})]}),i("tr",{style:{borderBottom:"1px solid #EDF2F7"},children:[e("td",{style:{padding:"8px"},children:e("code",{children:"m"})}),e("td",{style:{padding:"8px"},children:e("code",{children:"string"})}),e("td",{style:{padding:"8px"},children:"Margen CSS adicional."})]})]})]})})})]});export{k as ViewFlashNotification,k as default};
//# sourceMappingURL=FlashNotification.9e58ec98.js.map
